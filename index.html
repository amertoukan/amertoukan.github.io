<!--  ----------------------------------------------------------------------  -->
<!--  NOTE: Please add the following <META> element to your page <HEAD>.      -->
<!--  If necessary, please modify the charset parameter to specify the        -->
<!--  character set of your HTML page.                                        -->
<!--  ----------------------------------------------------------------------  -->
<head>
    <META HTTP-EQUIV="Content-type" CONTENT="text/html; charset=UTF-8">
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
</head>
<body style="margin-right: 30px; margin-left:30px; margin-top:40px;" >

 <!--  ----------------------------------------------------------------------  -->
    <!--  NOTE: Please add the following <FORM> element to your page.             -->
    <!--  ----------------------------------------------------------------------  -->
    
    <form action="https://webto.salesforce.com/servlet/servlet.WebToLead?encoding=UTF-8" method="POST">
    
        <input type=hidden name="oid" value="00D8b0000013hDd">
        <!-- <input type=hidden name="retURL" value="https://test-aqguqd9d73adj.saasquatch.app/thank-you"> -->
        
        <!--  ----------------------------------------------------------------------  -->
        <!--  NOTE: These fields are optional debugging elements. Please uncomment    -->
        <!--  these lines if you wish to test in debug mode.                          -->
        <!--  <input type="hidden" name="debug" value=1>                              -->
        <!--  <input type="hidden" name="debugEmail" value="toukan.amer@gmail.com">   -->
        <!--  ----------------------------------------------------------------------  -->
        <div class="mb-3">
            <label for="first_name">First Name:</label><br/><input   class="form-control" id="first_name" maxlength="40" name="first_name" size="20" type="text" />
        </div>


        <div class="mb-3">
        
        <label for="last_name">Last Name:</label><br/><input  class="form-control" id="last_name" maxlength="80" name="last_name" size="20" type="text" /><br>
        
        </div>

        <div class="mb-3">
            <label for="email">Email:</label><br/><input  class="form-control" id="email" maxlength="80" name="email" size="20" type="text" /><br>
        </div>
       
        <div class="mb-3">
            <label for="company">Company:</label><br/><input   class="form-control" id="company" maxlength="40" name="company" size="20" type="text" /><br>
        </div>
        
        <div class="mb-3">
            <label for="referralCode">Referred By Code:</label><br/><input  id="referred_by_code" class="form-control"  id="00N8b00000DVVW0" maxlength="255" name="00N8b00000DVVW0" size="20" type="text" disabled/><br>
        </div>
      
        <input class ="btn btn-success btn-lg" type="submit" name="submit" style="width: 100%"/>
        
        </form>
</body>

<script>
window.onload = () => { 
    getRSCode();

}
    function getRSCode(){
        let queryString = window.location.search; 
        console.log(`queryString: ${queryString}`)
        let URLParams = new URLSearchParams(queryString); 
        console.log(`URLParams: ${URLParams}`)
        let rsCode = URLParams.get('rsCode');
        console.log(`rsCode: ${rsCode}`)
        let referredByCodeField = document.getElementById('referred_by_code');
        console.log(`referredByCodeField: ${referredByCodeField}`)   
        console.log(rsCode)
        console.log(rsCode)
        if(rsCode = null){
            rsCode = localStorage.getItem('rsCode') 
            console.log(`rsCode: ${rsCode}`) 
            console.log(referredByCodeField.value)
            return referredByCodeField.value = rsCode;
            
        } else {
            rsCode = localStorage.setItem('rsCode', rsCode)
            console.log(`rsCode: ${rsCode}`) 
            console.log(referredByCodeField.value)
            return document.getElementById('referred_by_code').value = rsCode;
            
        }
       
    }
</script>


   